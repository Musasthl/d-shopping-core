@using Website.ExtensionMethod
@model IList<Service.DTO.ProductDto>

@*<link href="~/Contents/Styles/RightPanel.css" rel="stylesheet" />*@
<script type="text/javascript">
    $(document).ready(function () {
        $(function () {
            $('ul.spy').simpleSpy();
        });

        (function ($) {

            $.fn.simpleSpy = function (limit, interval) {
                limit = limit || 6;
                interval = interval || 4000;

                return this.each(function () {

                    var $list = $(this),
                        items = [], // uninitialised
                        currentItem = limit,
                        total = 0, // initialise later on
                        height = $list.find('> li:first').height();

                    $list.find('> li').each(function () {
                        items.push('<li>' + $(this).html() + '</li>');
                    });

                    total = items.length;

                    $list.wrap('<div class="" />').parent().css({ height: height * limit });

                    $list.find('> li').filter(':gt(' + (limit - 1) + ')').remove();


                    function spy() {

                        var $insert = $(items[currentItem]).css({
                            height: 0,
                            opacity: 0,
                            //display : 'none'
                        }).prependTo($list);


                        $list.find('> li:last').animate({ opacity: 0 }, 1000, function () {

                            $insert.animate({ height: height }, 1000).animate({ opacity: 1 }, 1000);

                            $(this).remove();
                        });

                        currentItem++;
                        if (currentItem >= total) {
                            currentItem = 0;
                        }
                        setTimeout(spy, interval);
                    }

                    spy();
                });
            };

        })(jQuery);
    })

</script>
<style type="text/css">
    
</style>
<div class="d-left-container">
    <div class="d-left-heading">
        Các sản phẩm khác
    </div>
    <div class="d-left-body">
        <ul class="spy">
            @if (Model != null && Model.Any())
            {
                foreach (var product in Model)
                {
                <li>
                    <div class="d-left-box-body-item">
                        <table>
                            <tr>
                                <td class="d-left-box-image"><a href="@Url.Action("ProductDetail", "Home")?productCode=@product.Code">
                                    <img src="@Url.ImageProduct(product.Image)" width="60" height="40" /></a></td>
                                <td style="padding-left: 2px; padding-right: 2px;">
                                    <a href="@Url.Action("ProductDetail", "Home")?productCode=@product.Code" class="d-left-box-title">@product.Name</a>
                                    <div class="d-split-row"></div>
                                    <div class="d-left-box-price">@product.Price đ</div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </li>
                }
            }
            else
            {
                <li class="d-left-li">
                    <div class="d-left-box-body-item">
                        <table>
                            <tr>
                                <td class="d-left-box-image"><a href="@Url.Action("ProductDetail", "Home")?productCode=categorysss">
                                    <img src="@Url.ImageProduct("17-dell-e170s-vuong-239-80x80.jpg")" width="60" height="40" /></a></td>
                                <td style="padding-left: 2px; padding-right: 2px;">
                                    <a href="@Url.Action("ProductDetail", "Home")?productCode=1" class="d-left-box-title">categorysss</a>
                                    <div class="d-split-row"></div>
                                    <div class="d-left-box-price">AAA đ</div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </li>
                <li class="d-left-li">
                    <div class="d-left-box-body-item">
                        <table>
                            <tr>
                                <td class="d-left-box-image"><a href="@Url.Action("ProductDetail", "Home")?productCode=categorysss">
                                    <img src="@Url.ImageProduct("17-dell-e170s-vuong-239-80x80.jpg")" width="60" height="40" /></a></td>
                                <td style="padding-left: 2px; padding-right: 2px;">
                                    <a href="@Url.Action("ProductDetail", "Home")?productCode=1" class="d-left-box-title">categorysss</a>
                                    <div class="d-split-row"></div>
                                    <div class="d-left-box-price">AAA đ</div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </li>
                <li class="d-left-li">
                    <div class="d-left-box-body-item">
                        <table>
                            <tr>
                                <td class="d-left-box-image"><a href="@Url.Action("ProductDetail", "Home")?productCode=categorysss">
                                    <img src="@Url.ImageProduct("17-dell-e170s-vuong-239-80x80.jpg")" width="60" height="40" /></a></td>
                                <td style="padding-left: 2px; padding-right: 2px;">
                                    <a href="@Url.Action("ProductDetail", "Home")?productCode=1" class="d-left-box-title">categorysss</a>
                                    <div class="d-split-row"></div>
                                    <div class="d-left-box-price">AAA đ</div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </li>
                <li class="d-left-li">
                    <div class="d-left-box-body-item">
                        <table>
                            <tr>
                                <td class="d-left-box-image"><a href="@Url.Action("ProductDetail", "Home")?productCode=categorysss">
                                    <img src="@Url.ImageProduct("17-dell-e170s-vuong-239-80x80.jpg")" width="60" height="40" /></a></td>
                                <td style="padding-left: 2px; padding-right: 2px;">
                                    <a href="@Url.Action("ProductDetail", "Home")?productCode=1" class="d-left-box-title">categorysss</a>
                                    <div class="d-split-row"></div>
                                    <div class="d-left-box-price">AAA đ</div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </li>
                <li class="d-left-li">
                    <div class="d-left-box-body-item">
                        <table>
                            <tr>
                                <td class="d-left-box-image"><a href="@Url.Action("ProductDetail", "Home")?productCode=categorysss">
                                    <img src="@Url.ImageProduct("17-dell-e170s-vuong-239-80x80.jpg")" width="60" height="40" /></a></td>
                                <td style="padding-left: 2px; padding-right: 2px;">
                                    <a href="@Url.Action("ProductDetail", "Home")?productCode=1" class="d-left-box-title">categorysss</a>
                                    <div class="d-split-row"></div>
                                    <div class="d-left-box-price">AAA đ</div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </li>              
            }
        </ul>
    </div>

</div>
